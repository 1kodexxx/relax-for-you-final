---
import Button from "@/components/Button.astro";
import BaseLayout from "@/layouts/BaseLayout.astro";

const title = "404 — Страница не найдена";
const description =
  "Кажется, такой страницы у нас нет. Но есть эстетика и забота — вернёмся на главную?";
---

<BaseLayout page="404" title={title} description={description}>
  <section class="nf" aria-labelledby="nf-title">
    <div class="nf-glow" aria-hidden="true"></div>
    <div class="nf-grid" aria-hidden="true"></div>

    <div class="container nf-inner">
      <div class="nf-head enter">
        <p class="nf-eyebrow">Relax For You • Мурманск</p>

        <h1 id="nf-title" class="nf-404" aria-label="Страница не найдена">
          <span class="d">4</span><span class="d">0</span><span class="d">4</span>
        </h1>

        <p class="nf-subtitle">
          Упс! Такой страницы у нас нет. Зато мы можем помочь расслабиться и выбрать программу.
        </p>
      </div>

      <div class="nf-actions" data-animate="fade-up" data-delay="200">
        <Button text="На главную" href="/" />
        <Button text="Запись на массаж" href="#booking" class="btn-secondary" />
      </div>

      <nav class="nf-links" aria-label="Быстрые ссылки" data-animate="fade-up" data-delay="300">
        <a href="/#about" class="nf-link">О нас</a>
        <a href="/#masters" class="nf-link">Мастера</a>
        <a href="/#price" class="nf-link">Прайс</a>
        <a href="/#reviews" class="nf-link">Отзывы</a>
        <a href="/#contacts" class="nf-link">Контакты</a>
      </nav>
    </div>
  </section>

  <style>
    .nf {
      position: relative;
      padding: 96px 0 88px;
      /* фолбэк для старых Safari/Android */
      min-height: calc(100vh - var(--header-h));
      /* более точная единица — там, где доступно */
    }
    @supports (height: 100dvh) {
      .nf {
        min-height: calc(100dvh - var(--header-h));
      }
    }
    .nf {
      display: grid;
      place-items: center;
      background:
        radial-gradient(60% 80% at 50% 0%, rgba(255, 79, 167, 0.12), transparent 60%),
        var(--g-velvet, linear-gradient(180deg, #0e0a0b 0%, #241a20 100%));
      overflow: clip;
      border-top: 1px solid rgba(255, 255, 255, 0.06);
    }

    .nf-inner {
      text-align: center;
      position: relative;
      z-index: 2;
      width: min(100% - 32px, 960px);
      margin-inline: auto;
    }

    .nf-eyebrow {
      letter-spacing: 0.22em;
      text-transform: uppercase;
      font-size: 0.9rem;
      color: var(--text-dim);
      margin: 0 0 10px;
    }

    .nf-404 {
      --size: 4.6rem;
      font-size: var(--size);
      font-size: clamp(4.6rem, 13vw, 12rem);
      margin: 4px 0 10px;
      font-weight: 900;
      line-height: 0.9;
      letter-spacing: -0.02em;
      display: inline-flex;
      gap: 0.2rem;
      gap: clamp(0.2rem, 1vw, 0.6rem);
      color: #fff;
      text-shadow:
        0 0 24px rgba(255, 79, 167, 0.18),
        0 0 60px rgba(255, 79, 167, 0.18);
      position: relative;
      isolation: isolate;
    }
    .nf-404 .d {
      display: inline-block;
      background: linear-gradient(180deg, #fff 0%, #f7e2ec 60%, #ffd6eb 100%);
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
      filter: drop-shadow(0 6px 24px rgba(255, 79, 167, 0.35));
      transform: translateZ(0);
      animation: nfDigitGlow 3.2s ease-in-out infinite;
    }
    .nf-404 .d:nth-child(2) {
      animation-delay: 0.12s;
    }
    .nf-404 .d:nth-child(3) {
      animation-delay: 0.24s;
    }

    .nf-subtitle {
      color: var(--text-secondary);
      font-size: 1rem;
      font-size: clamp(1rem, 2.2vw, 1.2rem);
      margin: 6px 0 18px;
      max-width: 820px;
      margin-inline: auto;
    }

    .nf-actions {
      display: flex;
      gap: 12px;
      justify-content: center;
      flex-wrap: wrap;
      margin-top: 8px;
    }

    .nf-links {
      display: flex;
      gap: 10px;
      justify-content: center;
      flex-wrap: wrap;
      margin-top: 14px;
    }
    .nf-link {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      padding: 10px 14px;
      border-radius: 999px;
      border: 1px solid rgba(255, 255, 255, 0.08);
      background: rgba(255, 255, 255, 0.03);
      color: var(--text-primary);
      font-weight: 600;
      text-decoration: none;
      transition:
        transform 0.22s var(--e1),
        box-shadow 0.28s ease,
        border-color 0.22s ease,
        color 0.22s ease;
    }
    .nf-link:hover {
      transform: translateY(-2px);
      color: var(--rose-hot);
      border-color: #ff4fa7; /* fallback */
      box-shadow: 0 0 16px rgba(255, 79, 167, 0.22);
    }
    @supports (color: color-mix(in srgb, red 50%, white)) {
      .nf-link:hover {
        border-color: color-mix(in oklab, var(--rose-hot) 60%, var(--neon-pink) 40%);
      }
    }

    .nf-glow {
      position: absolute;
      inset: -10% -10% auto -10%;
      height: 75%;
      pointer-events: none;
      filter: blur(120px);
      opacity: 0.35;
      background: radial-gradient(50% 50% at 50% 50%, rgba(255, 43, 106, 0.28), transparent 70%);
      z-index: 0;
    }

    .nf-grid {
      position: absolute;
      inset: 0;
      pointer-events: none;
      z-index: 1;
      opacity: 0.08;
      background-image:
        radial-gradient(circle at 50% 0%, rgba(255, 79, 167, 0.2), transparent 45%),
        linear-gradient(180deg, rgba(255, 255, 255, 0.06), rgba(255, 255, 255, 0));
      mix-blend-mode: screen;
    }

    .nf .enter {
      opacity: 0;
      transform: translateY(24px) scale(0.98);
      animation: nfEnter 0.8s var(--e1) 0.06s forwards;
    }
    @keyframes nfEnter {
      to {
        opacity: 1;
        transform: none;
      }
    }

    @media (max-width: 720px) {
      .nf {
        padding: 84px 0 72px;
      }
      .nf-actions {
        gap: 10px;
      }
    }

    @media (prefers-reduced-motion: reduce) {
      .nf-404 .d,
      .nf-404::after,
      .nf .enter {
        animation: none !important;
      }
    }
  </style>
</BaseLayout>
